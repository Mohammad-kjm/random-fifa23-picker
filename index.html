<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>انتخاب تصادفی تیم FIFA</title>
  
  <link rel="manifest" href="data:application/manifest+json,{
    %22name%22:%22انتخاب%20تصادفی%20تیم%20FIFA%22,
    %22short_name%22:%22FIFA%20Picker%22,
    %22start_url%22:%22./%22,
    %22display%22:%22standalone%22,
    %22background_color%22:%22%23F2F2F7%22,
    %22theme_color%22:%22%23007AFF%22,
    %22icons%22:[{
      %22src%22:%22data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='40' fill='%23007AFF'/%3E%3Ctext x='50' y='55' text-anchor='middle' fill='white' font-size='20'%3EF%3C/text%3E%3C/svg%3E%22,
      %22sizes%22:%22192x192%22,
      %22type%22:%22image/svg+xml%22
    }]
  }">
  <meta name="theme-color" content="#007AFF">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='40' fill='%23007AFF'/%3E%3Ctext x='50' y='55' text-anchor='middle' fill='white' font-size='20'%3EF%3C/text%3E%3C/svg%3E">
  <style>
    :root {
      --primary-color: #007AFF;
      --secondary-color: #5856D6;
      --accent-color: #FF2D55;
      --success-color: #34C759;
      --danger-color: #FF3B30;
      --background-color: #F2F2F7;
      --card-bg: rgba(255, 255, 255, 0.85);
      --text-primary: #1D1D1F;
      --text-secondary: #5e5e63;
      --glass-effect: blur(20px);
      --shadow-light: 0 8px 32px rgba(0, 0, 0, 0.08);
      --shadow-medium: 0 16px 48px rgba(0, 0, 0, 0.12);
      --shadow-heavy: 0 24px 64px rgba(0, 0, 0, 0.16);
      --border-radius: 24px;
      --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
      --transition-smooth: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    }

    
    .dark-mode {
      --background-color: #1C1C1E;
      --card-bg: rgba(30, 30, 32, 0.85);
      --text-primary: #F2F2F7;
      --text-secondary: #AEAEB2;
    }

    @font-face {
      font-family: 'SF Pro Display';
      src: url('https://fonts.cdnfonts.com/css/sf-pro-display');
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      min-height: 100vh;
      padding: 20px;
      color: var(--text-primary);
      overflow-x: hidden;
      position: relative;
      transition: background 0.5s ease;
    }

    .dark-mode body {
      background: linear-gradient(135deg, #1c1c1e 0%, #2c2c30 100%);
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.9) 0%, transparent 25%),
        radial-gradient(circle at 90% 80%, rgba(120, 119, 198, 0.4) 0%, transparent 25%),
        radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.7) 0%, transparent 35%);
      z-index: -1;
      animation: liquidMove 15s ease-in-out infinite alternate;
      will-change: transform, filter;
    }

    .dark-mode body::before {
      background: 
        radial-gradient(circle at 10% 20%, rgba(30, 30, 32, 0.9) 0%, transparent 25%),
        radial-gradient(circle at 90% 80%, rgba(88, 86, 214, 0.3) 0%, transparent 25%),
        radial-gradient(circle at 50% 50%, rgba(30, 30, 32, 0.7) 0%, transparent 35%);
    }

    @keyframes liquidMove {
      0% { transform: scale(1) rotate(0deg); filter: hue-rotate(0deg); }
      50% { transform: scale(1.04) rotate(0.3deg); }
      100% { transform: scale(1.06) rotate(0.5deg); filter: hue-rotate(3deg); }
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      position: relative;
      z-index: 1;
      padding: 20px;
    }

    h1 {
      font-size: 3rem;
      font-weight: 800;
      margin-bottom: 2.5rem;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color), var(--accent-color));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow: 0 8px 24px rgba(0, 122, 255, 0.25);
      animation: titleGlow 4s ease-in-out infinite alternate;
      position: relative;
      display: inline-block;
      will-change: text-shadow;
    }

    h1::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 10%;
      width: 80%;
      height: 3px;
      background: linear-gradient(90deg, transparent, var(--primary-color), transparent);
      border-radius: 3px;
      animation: shimmer 3s ease-in-out infinite;
    }

    @keyframes titleGlow {
      0% { text-shadow: 0 8px 24px rgba(0, 122, 255, 0.25); }
      100% { text-shadow: 0 12px 36px rgba(0, 122, 255, 0.4), 0 0 40px rgba(88, 86, 214, 0.2); }
    }

    @keyframes shimmer {
      0%, 100% { opacity: 0.5; transform: scaleX(0.8); }
      50% { opacity: 1; transform: scaleX(1); }
    }

    .control-panel {
      background: var(--card-bg);
      backdrop-filter: var(--glass-effect);
      -webkit-backdrop-filter: var(--glass-effect);
      border-radius: var(--border-radius);
      padding: 2.5rem;
      margin-bottom: 2.5rem;
      box-shadow: var(--shadow-light);
      border: 1px solid rgba(255, 255, 255, 0.4);
      transition: var(--transition-smooth);
      position: relative;
      overflow: hidden;
      transform: translateZ(0);
      backface-visibility: hidden;
    }

    .dark-mode .control-panel {
      border-color: rgba(60, 60, 67, 0.4);
    }

    .input-group {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.5rem;
      margin-bottom: 2rem;
    }

    label {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--text-secondary);
      position: relative;
      padding-bottom: 8px;
    }

    input, button {
      font-family: inherit;
      border: none;
      outline: none;
      border-radius: 18px;
      transition: var(--transition);
    }

    input {
      padding: 16px 20px;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      width: 100%;
      max-width: 250px;
      text-align: center;
      font-size: 1.2rem;
      box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.05), 0 4px 12px rgba(0, 0, 0, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.6);
    }

    .dark-mode input {
      background: rgba(60, 60, 67, 0.9);
      color: var(--text-primary);
      border-color: rgba(60, 60, 67, 0.6);
    }

    .buttons-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1.5rem;
      margin-top: 2rem;
    }

    button {
      padding: 18px 28px;
      font-size: 1.1rem;
      font-weight: 700;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      color: white;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      transition: var(--transition-smooth);
      z-index: 1;
      margin-bottom: 20px;
      transform: translateZ(0);
      backface-visibility: hidden;
    }

    button::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      z-index: -1;
      transition: var(--transition);
    }

    button::after {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      transition: all 0.6s;
      z-index: -1;
    }

    button:hover::after {
      left: 100%;
    }

    button:hover {
      transform: translateY(-4px) scale(1.02) translateZ(0);
      box-shadow: var(--shadow-heavy);
    }

    button:hover::before {
      filter: brightness(1.1) saturate(1.1);
    }

    button:active {
      transform: translateY(2px) scale(0.98) translateZ(0);
    }

    #createPlayersBtn::before {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    }

    #pickTeamBtn::before {
      background: linear-gradient(135deg, var(--success-color), #30D158);
    }

    #resetBtn::before {
      background: linear-gradient(135deg, var(--danger-color), #FF453A);
    }

    #downloadBtn::before {
      background: linear-gradient(135deg, #5E5CE6, #32DE84);
    }

    #themeToggle {
  position: fixed;
  top: 20px;
  left: 20px;
  width: 50px;
  height: 50px;
  aspect-ratio: 1 / 1; 
  border-radius: 50%; 
  background: var(--card-bg);
  backdrop-filter: var(--glass-effect);
  -webkit-backdrop-filter: var(--glass-effect);
  border: 1px solid rgba(255, 255, 255, 0.4);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 100;
  box-shadow: var(--shadow-light);
  padding: 0;
  margin: 0;
}

#themeToggle svg {
  fill: var(--text-secondary);
  width: 20px;
  height: 20px;
}

    .dark-mode #themeToggle {
      border-color: rgba(60, 60, 67, 0.4);
    }

   

    .players-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin-top: 2.5rem;
    }

    .player-section {
      background: var(--card-bg);
      backdrop-filter: var(--glass-effect);
      -webkit-backdrop-filter: var(--glass-effect);
      border-radius: var(--border-radius);
      padding: 2rem;
      box-shadow: var(--shadow-light);
      border: 1px solid rgba(255, 255, 255, 0.4);
      transition: var(--transition-smooth);
      position: relative;
      overflow: hidden;
      margin-bottom: 30px !important;
      transform: translateZ(0);
      backface-visibility: hidden;
    }

    .dark-mode .player-section {
      border-color: rgba(60, 60, 67, 0.4);
    }

    .player-section h3 {
      margin-bottom: 1.5rem;
      color: var(--primary-color);
      font-size: 1.4rem;
      font-weight: 700;
      position: relative;
      display: inline-block;
    }

    .player-name {
      width: 100%;
      margin-bottom: 1.5rem;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      max-width: none;
    }

    .dark-mode .player-name {
      background: rgba(60, 60, 67, 0.9);
      color: var(--text-primary);
    }

    .team-display {
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(10px);
      padding: 16px;
      border-radius: 16px;
      min-height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.3rem;
      color: var(--text-secondary);
      border: 1px solid rgba(255, 255, 255, 0.5);
      transition: var(--transition);
      text-align: right;
      line-height: 1.6;
      transform: translateZ(0);
    }

    .dark-mode .team-display {
      background: rgba(60, 60, 67, 0.8);
      border-color: rgba(60, 60, 67, 0.5);
      color: var(--text-secondary);
    }

    .team-item {
      position: relative;
      padding: 8px 0;
      margin: 4px 0;
      background: rgba(255, 255, 255, 0.4);
      border-radius: 12px;
      backdrop-filter: blur(5px);
      overflow: hidden;
    }

    .dark-mode .team-item {
      background: rgba(60, 60, 67, 0.4);
    }

    .team-flag {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      opacity: 0.08;
      object-fit: cover;
      z-index: 0;
    }

    .team-text {
      position: relative;
      z-index: 1;
      padding: 0 10px;
    }

    .status {
      margin-top: 2rem;
      padding: 1.5rem;
      background: var(--card-bg);
      backdrop-filter: var(--glass-effect);
      -webkit-backdrop-filter: var(--glass-effect);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow-light);
      font-weight: 700;
      color: var(--text-secondary);
      border: 1px solid rgba(255, 255, 255, 0.4);
      transition: var(--transition);
      transform: translateZ(0);
    }

    .dark-mode .status {
      border-color: rgba(60, 60, 67, 0.4);
    }

    .stats {
      margin-top: 2rem;
      padding: 1.5rem;
      background: var(--card-bg);
      backdrop-filter: var(--glass-effect);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow-light);
      border: 1px solid rgba(255, 255, 255, 0.4);
    }

    .dark-mode .stats {
      border-color: rgba(60, 60, 67, 0.4);
    }

    .stats h3 {
      margin-bottom: 1rem;
      color: var(--primary-color);
    }

    .stats ul {
      text-align: right;
      padding-right: 20px;
    }

    .stats li {
      margin: 8px 0;
      color: var(--text-secondary);
    }

    @keyframes cardDeal {
      0% { transform: translateY(100px) scale(0.8); opacity: 0; }
      100% { transform: translateY(0) scale(1); opacity: 1; }
    }

    .animate-deal {
      animation: cardDeal 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    }

    @media (max-width: 768px) {
      .players-container {
        grid-template-columns: repeat(2, 1fr);
      }
      #themeToggle {
        top: 10px;
        left: 10px;
        width: 40px;
        height: 40px;
      }
    }

    @media (max-width: 480px) {
      .players-container {
        grid-template-columns: 1fr;
      }
      h1 {
        font-size: 2rem;
      }
    }
  </style>
</head>
<body>
  <button id="themeToggle" aria-label="تغییر حالت نمایش">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20">
    <path id="themeIconPath" d="" />
  </svg>
</button>

  <div class="container">
    <h1>انتخاب تصادفی تیم FIFA</h1>
    <div class="control-panel">
      <div class="input-group">
        <label for="playerCount">تعداد بازیکن</label>
        <input type="number" id="playerCount" min="1" max="32" value="2" />
        <button id="createPlayersBtn">ساخت فیلدهای بازیکن</button>
      </div>
      <div class="buttons-container">
        <button id="pickTeamBtn">انتخاب تصادفی</button>
        <button id="resetBtn">ریست</button>
        <button id="downloadBtn">دانلود نتیجه</button>
      </div>
    </div>

    <div id="status" class="status">تیم‌های باقی‌مانده: —</div>

    <div id="playersContainer" class="players-container"></div>

    <div id="stats" class="stats">
      <h3>آمار و اطلاعات</h3>
      <ul id="statsList"></ul>
    </div>
  </div>

  <script>
    const countryToFlag = {
      "Argentina": "AR",
      "Australia": "AU",
      "Austria": "AT",
      "Belgium": "BE",
      "Brazil": "BR",
      "Canada": "CA",
      "China": "CN",
      "Croatia": "HR",
      "Czech Republic": "CZ",
      "Denmark": "DK",
      "England": "GB-ENG",
      "Finland": "FI",
      "France": "FR",
      "Germany": "DE",
      "Ghana": "GH",
      "Hungary": "HU",
      "Iceland": "IS",
      "Ireland": "IE",
      "Italy": "IT",
      "Mexico": "MX",
      "Morocco": "MA",
      "Netherlands": "NL",
      "New Zealand": "NZ",
      "Northern Ireland": "GB-NIR",
      "Norway": "NO",
      "Poland": "PL",
      "Portugal": "PT",
      "Qatar": "QA",
      "Romania": "RO",
      "Scotland": "GB-SCT",
      "Spain": "ES",
      "Sweden": "SE",
      "Ukraine": "UA",
      "United States": "US",
      "Wales": "GB-WLS",
      "South Korea": "KR",
      "India": "IN",
      "Greece": "GR",
      "UAE": "AE",
      "Cyprus": "CY",
      "Colombia": "CO",
      "Finland": "FI",
      "South Africa": "ZA",
      "Czech Republic": "CZ",
      "Andorra": "AD",
      "Switzerland": "CH",
      "Turkey": "TR",
      "Saudi Arabia": "SA",
      "International": "UN",
      "Iran": "IR"
    };

    const allTeams = [
  // ARGENTINA
  { team: "Aldosivi", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Argentinos Jrs.", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Arsenal", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Atlético Tucumán", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Banfield", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Barracas Central", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Boca Juniors", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Central Córdoba", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Colón", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Defensa", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Estudiantes", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Gimnasia", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Godoy Cruz", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Huracán", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Independiente", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Lanús", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Newell's", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Patronato", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Platense", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Racing Club", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "River Plate", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Rosario Central", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "San Lorenzo", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Sarmiento", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Talleres", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Tigre", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Unión", league: "Liga Profesional de Fútbol", country: "Argentina" },
  { team: "Vélez Sarsfield", league: "Liga Profesional de Fútbol", country: "Argentina" },
  // AUSTRALIA
  { team: "Adelaide United", league: "Isuzu UTE A League", country: "Australia" },
  { team: "Brisbane Roar", league: "Isuzu UTE A League", country: "Australia" },
  { team: "Central Coast", league: "Isuzu UTE A League", country: "Australia" },
  { team: "Macarthur FC", league: "Isuzu UTE A League", country: "Australia" },
  { team: "Melb. Victory", league: "Isuzu UTE A League", country: "Australia" },
  { team: "Melbourne City", league: "Isuzu UTE A League", country: "Australia" },
  { team: "Newcastle Jets", league: "Isuzu UTE A League", country: "Australia" },
  { team: "Perth Glory", league: "Isuzu UTE A League", country: "Australia" },
  { team: "Sydney FC", league: "Isuzu UTE A League", country: "Australia" },
  { team: "Well. Phoenix", league: "Isuzu UTE A League", country: "Australia" },
  { team: "Western United", league: "Isuzu UTE A League", country: "Australia" },
  { team: "WS Wanderers", league: "Isuzu UTE A League", country: "Australia" },
  // AUSTRIA
  { team: "Austria Klagenfurt", league: "Ö. Bundesliga", country: "Austria" },
  { team: "FK Austria Wien", league: "Ö. Bundesliga", country: "Austria" },
  { team: "LASK", league: "Ö. Bundesliga", country: "Austria" },
  { team: "RB Salzburg", league: "Ö. Bundesliga", country: "Austria" },
  { team: "SC Austria", league: "Ö. Bundesliga", country: "Austria" },
  { team: "SCR Altach", league: "Ö. Bundesliga", country: "Austria" },
  { team: "SK Rapid Wien", league: "Ö. Bundesliga", country: "Austria" },
  { team: "SK Sturm Graz", league: "Ö. Bundesliga", country: "Austria" },
  { team: "SV Ried", league: "Ö. Bundesliga", country: "Austria" },
  { team: "TSV Hartberg", league: "Ö. Bundesliga", country: "Austria" },
  { team: "Wolfsberger AC", league: "Ö. Bundesliga", country: "Austria" },
  { team: "WSG Tirol", league: "Ö. Bundesliga", country: "Austria" },
  // BELGIUM
  { team: "Cercle Brugge", league: "1A Pro League", country: "Belgium" },
  { team: "Club Brugge", league: "1A Pro League", country: "Belgium" },
  { team: "KAA Gent", league: "1A Pro League", country: "Belgium" },
  { team: "KAS Eupen", league: "1A Pro League", country: "Belgium" },
  { team: "KRC Genk", league: "1A Pro League", country: "Belgium" },
  { team: "KV Kortrijk", league: "1A Pro League", country: "Belgium" },
  { team: "KV Mechelen", league: "1A Pro League", country: "Belgium" },
  { team: "KV Oostende", league: "1A Pro League", country: "Belgium" },
  { team: "KVC Westerlo", league: "1A Pro League", country: "Belgium" },
  { team: "OH Leuven", league: "1A Pro League", country: "Belgium" },
  { team: "R. Union St.-G", league: "1A Pro League", country: "Belgium" },
  { team: "RFC Seraing", league: "1A Pro League", country: "Belgium" },
  { team: "Royal Antwerp FC", league: "1A Pro League", country: "Belgium" },
  { team: "RSC Anderlecht", league: "1A Pro League", country: "Belgium" },
  { team: "Sp. Charleroi", league: "1A Pro League", country: "Belgium" },
  { team: "Standard Liège", league: "1A Pro League", country: "Belgium" },
  { team: "STVV", league: "1A Pro League", country: "Belgium" },
  { team: "Zulte Waregem", league: "1A Pro League", country: "Belgium" },
  // CHINA
  { team: "Beijing Guoan", league: "CSL", country: "China" },
  { team: "Cangzhou FC", league: "CSL", country: "China" },
  { team: "Changchun Yatai", league: "CSL", country: "China" },
  { team: "Dalian Pro", league: "CSL", country: "China" },
  { team: "Guangzhou City", league: "CSL", country: "China" },
  { team: "Guangzhou FC", league: "CSL", country: "China" },
  { team: "Hebei FC", league: "CSL", country: "China" },
  { team: "Henan SSLM FC", league: "CSL", country: "China" },
  { team: "Meizhou Hakka", league: "CSL", country: "China" },
  { team: "Rongcheng FC", league: "CSL", country: "China" },
  { team: "Shandong Taishan", league: "CSL", country: "China" },
  { team: "Shanghai Port", league: "CSL", country: "China" },
  { team: "Shanghai Shenhua", league: "CSL", country: "China" },
  { team: "Shenzhen FC", league: "CSL", country: "China" },
  { team: "Tianjin JMT FC", league: "CSL", country: "China" },
  { team: "Wuhan 3 Towns", league: "CSL", country: "China" },
  { team: "Wuhan FC", league: "CSL", country: "China" },
  { team: "Zhejiang Pro", league: "CSL", country: "China" },
  // DENMARK
  { team: "AaB", league: "3F Superliga", country: "Denmark" },
  { team: "AC Horsens", league: "3F Superliga", country: "Denmark" },
  { team: "AGF", league: "3F Superliga", country: "Denmark" },
  { team: "Brøndby IF", league: "3F Superliga", country: "Denmark" },
  { team: "F.C. København", league: "3F Superliga", country: "Denmark" },
  { team: "FC Midtjylland", league: "3F Superliga", country: "Denmark" },
  { team: "FC Nordsjælland", league: "3F Superliga", country: "Denmark" },
  { team: "Lyngby BK", league: "3F Superliga", country: "Denmark" },
  { team: "Odense BK", league: "3F Superliga", country: "Denmark" },
  { team: "Randers FC", league: "3F Superliga", country: "Denmark" },
  { team: "Silkeborg IF", league: "3F Superliga", country: "Denmark" },
  { team: "Viborg FF", league: "3F Superliga", country: "Denmark" },
  // ENGLAND - PREMIER LEAGUE
  { team: "AFC Bournemouth", league: "Premier League", country: "England" },
  { team: "Arsenal", league: "Premier League", country: "England" },
  { team: "Aston Villa", league: "Premier League", country: "England" },
  { team: "Brentford", league: "Premier League", country: "England" },
  { team: "Brighton", league: "Premier League", country: "England" },
  { team: "Chelsea", league: "Premier League", country: "England" },
  { team: "Crystal Palace", league: "Premier League", country: "England" },
  { team: "Everton", league: "Premier League", country: "England" },
  { team: "Fulham", league: "Premier League", country: "England" },
  { team: "Leeds United", league: "Premier League", country: "England" },
  { team: "Leicester City", league: "Premier League", country: "England" },
  { team: "Liverpool", league: "Premier League", country: "England" },
  { team: "Manchester City", league: "Premier League", country: "England" },
  { team: "Manchester Utd", league: "Premier League", country: "England" },
  { team: "Newcastle Utd", league: "Premier League", country: "England" },
  { team: "Nott'm Forest", league: "Premier League", country: "England" },
  { team: "Southampton", league: "Premier League", country: "England" },
  { team: "Spurs", league: "Premier League", country: "England" },
  { team: "West Ham", league: "Premier League", country: "England" },
  { team: "Wolves", league: "Premier League", country: "England" },
  // ENGLAND - EFL CHAMPIONSHIP
  { team: "Birmingham City", league: "EFL Championship", country: "England" },
  { team: "Blackburn Rovers", league: "EFL Championship", country: "England" },
  { team: "Blackpool", league: "EFL Championship", country: "England" },
  { team: "Bristol City", league: "EFL Championship", country: "England" },
  { team: "Burnley", league: "EFL Championship", country: "England" },
  { team: "Cardiff City", league: "EFL Championship", country: "England" },
  { team: "Coventry City", league: "EFL Championship", country: "England" },
  { team: "Huddersfield", league: "EFL Championship", country: "England" },
  { team: "Hull City", league: "EFL Championship", country: "England" },
  { team: "Luton Town", league: "EFL Championship", country: "England" },
  { team: "Middlesbrough", league: "EFL Championship", country: "England" },
  { team: "Millwall", league: "EFL Championship", country: "England" },
  { team: "Norwich", league: "EFL Championship", country: "England" },
  { team: "Preston", league: "EFL Championship", country: "England" },
  { team: "QPR", league: "EFL Championship", country: "England" },
  { team: "Reading", league: "EFL Championship", country: "England" },
  { team: "Rotherham Utd", league: "EFL Championship", country: "England" },
  { team: "Sheffield Utd", league: "EFL Championship", country: "England" },
  { team: "Stoke City", league: "EFL Championship", country: "England" },
  { team: "Sunderland", league: "EFL Championship", country: "England" },
  { team: "Swansea City", league: "EFL Championship", country: "England" },
  { team: "Watford", league: "EFL Championship", country: "England" },
  { team: "West Brom", league: "EFL Championship", country: "England" },
  { team: "Wigan Athletic", league: "EFL Championship", country: "England" },
  // ENGLAND - EFL LEAGUE ONE
  { team: "Accrington", league: "EFL League One", country: "England" },
  { team: "Barnsley", league: "EFL League One", country: "England" },
  { team: "Bolton", league: "EFL League One", country: "England" },
  { team: "Bristol Rovers", league: "EFL League One", country: "England" },
  { team: "Burton Albion", league: "EFL League One", country: "England" },
  { team: "Cambridge Utd", league: "EFL League One", country: "England" },
  { team: "Charlton Ath", league: "EFL League One", country: "England" },
  { team: "Cheltenham Town", league: "EFL League One", country: "England" },
  { team: "Derby County", league: "EFL League One", country: "England" },
  { team: "Exeter City", league: "EFL League One", country: "England" },
  { team: "Fleetwood Town", league: "EFL League One", country: "England" },
  { team: "Forest Green", league: "EFL League One", country: "England" },
  { team: "Ipswich", league: "EFL League One", country: "England" },
  { team: "Lincoln City", league: "EFL League One", country: "England" },
  { team: "MK Dons", league: "EFL League One", country: "England" },
  { team: "Morecambe", league: "EFL League One", country: "England" },
  { team: "Oxford United", league: "EFL League One", country: "England" },
  { team: "Peterborough", league: "EFL League One", country: "England" },
  { team: "Plymouth Argyle", league: "EFL League One", country: "England" },
  { team: "Port Vale", league: "EFL League One", country: "England" },
  { team: "Portsmouth", league: "EFL League One", country: "England" },
  { team: "Sheffield Wed", league: "EFL League One", country: "England" },
  { team: "Shrewsbury", league: "EFL League One", country: "England" },
  { team: "Wycombe", league: "EFL League One", country: "England" },
  // ENGLAND - EFL LEAGUE TWO
  { team: "AFC Wimbledon", league: "EFL League Two", country: "England" },
  { team: "Barrow", league: "EFL League Two", country: "England" },
  { team: "Bradford City", league: "EFL League Two", country: "England" },
  { team: "Carlisle United", league: "EFL League Two", country: "England" },
  { team: "Colchester", league: "EFL League Two", country: "England" },
  { team: "Crawley Town", league: "EFL League Two", country: "England" },
  { team: "Crewe Alexandra", league: "EFL League Two", country: "England" },
  { team: "Doncaster", league: "EFL League Two", country: "England" },
  { team: "Gillingham", league: "EFL League Two", country: "England" },
  { team: "Grimsby Town", league: "EFL League Two", country: "England" },
  { team: "Harrogate Town", league: "EFL League Two", country: "England" },
  { team: "Hartlepool", league: "EFL League Two", country: "England" },
  { team: "Leyton Orient", league: "EFL League Two", country: "England" },
  { team: "Mansfield Town", league: "EFL League Two", country: "England" },
  { team: "Newport County", league: "EFL League Two", country: "England" },
  { team: "Northampton", league: "EFL League Two", country: "England" },
  { team: "Rochdale", league: "EFL League Two", country: "England" },
  { team: "Salford City", league: "EFL League Two", country: "England" },
  { team: "Stevenage", league: "EFL League Two", country: "England" },
  { team: "Stockport", league: "EFL League Two", country: "England" },
  { team: "Sutton United", league: "EFL League Two", country: "England" },
  { team: "Swindon Town", league: "EFL League Two", country: "England" },
  { team: "Tranmere Rovers", league: "EFL League Two", country: "England" },
  { team: "Walsall", league: "EFL League Two", country: "England" },
  // FRANCE - LIGUE 1
  { team: "AC Ajaccio", league: "Ligue 1", country: "France" },
  { team: "AJ Auxerre", league: "Ligue 1", country: "France" },
  { team: "Angers SCO", league: "Ligue 1", country: "France" },
  { team: "AS Monaco", league: "Ligue 1", country: "France" },
  { team: "Clermont Foot 63", league: "Ligue 1", country: "France" },
  { team: "ESTAC Troyes", league: "Ligue 1", country: "France" },
  { team: "FC Lorient", league: "Ligue 1", country: "France" },
  { team: "FC Nantes", league: "Ligue 1", country: "France" },
  { team: "LOSC Lille", league: "Ligue 1", country: "France" },
  { team: "Montpellier", league: "Ligue 1", country: "France" },
  { team: "OGC Nice", league: "Ligue 1", country: "France" },
  { team: "OL", league: "Ligue 1", country: "France" },
  { team: "OM", league: "Ligue 1", country: "France" },
  { team: "Paris SG", league: "Ligue 1", country: "France" },
  { team: "RC Lens", league: "Ligue 1", country: "France" },
  { team: "Stade Brestois 29", league: "Ligue 1", country: "France" },
  { team: "Stade de Reims", league: "Ligue 1", country: "France" },
  { team: "Stade Rennais FC", league: "Ligue 1", country: "France" },
  { team: "Strasbourg", league: "Ligue 1", country: "France" },
  { team: "Toulouse FC", league: "Ligue 1", country: "France" },
  // FRANCE - LIGUE 2
  { team: "Amiens SC", league: "Ligue 2", country: "France" },
  { team: "AS Saint-Étienne", league: "Ligue 2", country: "France" },
  { team: "Bordeaux", league: "Ligue 2", country: "France" },
  { team: "Dijon FCO", league: "Ligue 2", country: "France" },
  { team: "En Avant Guingamp", league: "Ligue 2", country: "France" },
  { team: "FC Annecy", league: "Ligue 2", country: "France" },
  { team: "FC Metz", league: "Ligue 2", country: "France" },
  { team: "FCSM", league: "Ligue 2", country: "France" },
  { team: "Grenoble Foot 38", league: "Ligue 2", country: "France" },
  { team: "Havre AC", league: "Ligue 2", country: "France" },
  { team: "Nîmes Olympique", league: "Ligue 2", country: "France" },
  { team: "Niort", league: "Ligue 2", country: "France" },
  { team: "Paris FC", league: "Ligue 2", country: "France" },
  { team: "Pau FC", league: "Ligue 2", country: "France" },
  { team: "Quevilly Rouen", league: "Ligue 2", country: "France" },
  { team: "Rodez AF", league: "Ligue 2", country: "France" },
  { team: "SC Bastia", league: "Ligue 2", country: "France" },
  { team: "SM Caen", league: "Ligue 2", country: "France" },
  { team: "Stade Lavallois", league: "Ligue 2", country: "France" },
  { team: "Valenciennes FC", league: "Ligue 2", country: "France" },
  // GERMANY - BUNDESLIGA
  { team: "1. FC Köln", league: "Bundesliga", country: "Germany" },
  { team: "1. FSV Mainz 05", league: "Bundesliga", country: "Germany" },
  { team: "Borussia Dortmund", league: "Bundesliga", country: "Germany" },
  { team: "FC Augsburg", league: "Bundesliga", country: "Germany" },
  { team: "FC Bayern München", league: "Bundesliga", country: "Germany" },
  { team: "FC Schalke 04", league: "Bundesliga", country: "Germany" },
  { team: "Frankfurt", league: "Bundesliga", country: "Germany" },
  { team: "Hertha Berlin", league: "Bundesliga", country: "Germany" },
  { team: "Leverkusen", league: "Bundesliga", country: "Germany" },
  { team: "M'gladbach", league: "Bundesliga", country: "Germany" },
  { team: "RB Leipzig", league: "Bundesliga", country: "Germany" },
  { team: "SC Freiburg", league: "Bundesliga", country: "Germany" },
  { team: "SV Werder Bremen", league: "Bundesliga", country: "Germany" },
  { team: "TSG Hoffenheim", league: "Bundesliga", country: "Germany" },
  { team: "Union Berlin", league: "Bundesliga", country: "Germany" },
  { team: "VfB Stuttgart", league: "Bundesliga", country: "Germany" },
  { team: "VfL Bochum", league: "Bundesliga", country: "Germany" },
  { team: "VfL Wolfsburg", league: "Bundesliga", country: "Germany" },
  // GERMANY - BUNDESLIGA 2
  { team: "1. FC Magdeburg", league: "Bundesliga 2", country: "Germany" },
  { team: "1. FC Nürnberg", league: "Bundesliga 2", country: "Germany" },
  { team: "Arminia Bielefeld", league: "Bundesliga 2", country: "Germany" },
  { team: "Braunschweig", league: "Bundesliga 2", country: "Germany" },
  { team: "Düsseldorf", league: "Bundesliga 2", country: "Germany" },
  { team: "FC St. Pauli", league: "Bundesliga 2", country: "Germany" },
  { team: "Fürth", league: "Bundesliga 2", country: "Germany" },
  { team: "Hamburger SV", league: "Bundesliga 2", country: "Germany" },
  { team: "Hannover 96", league: "Bundesliga 2", country: "Germany" },
  { team: "Hansa Rostock", league: "Bundesliga 2", country: "Germany" },
  { team: "Heidenheim", league: "Bundesliga 2", country: "Germany" },
  { team: "Holstein Kiel", league: "Bundesliga 2", country: "Germany" },
  { team: "Jahn Regensburg", league: "Bundesliga 2", country: "Germany" },
  { team: "Kaiserslautern", league: "Bundesliga 2", country: "Germany" },
  { team: "Karlsruher SC", league: "Bundesliga 2", country: "Germany" },
  { team: "SC Paderborn 07", league: "Bundesliga 2", country: "Germany" },
  { team: "SV Darmstadt 98", league: "Bundesliga 2", country: "Germany" },
  { team: "SV Sandhausen", league: "Bundesliga 2", country: "Germany" },
  // GERMANY - 3. LIGA
  { team: "1860 München", league: "3. Liga", country: "Germany" },
  { team: "B. Dortmund II", league: "3. Liga", country: "Germany" },
  { team: "Dynamo Dresden", league: "3. Liga", country: "Germany" },
  { team: "FC Erzgebirge Aue", league: "3. Liga", country: "Germany" },
  { team: "FC Ingolstadt 04", league: "3. Liga", country: "Germany" },
  { team: "FSV Zwickau", league: "3. Liga", country: "Germany" },
  { team: "Hallescher FC", league: "3. Liga", country: "Germany" },
  { team: "MSV Duisburg", league: "3. Liga", country: "Germany" },
  { team: "Rot-Weiss Essen", league: "3. Liga", country: "Germany" },
  { team: "Saarbrücken", league: "3. Liga", country: "Germany" },
  { team: "SC Freiburg II", league: "3. Liga", country: "Germany" },
  { team: "SC Verl", league: "3. Liga", country: "Germany" },
  { team: "SpVgg Bayreuth", league: "3. Liga", country: "Germany" },
  { team: "SV Elversberg", league: "3. Liga", country: "Germany" },
  { team: "SV Meppen", league: "3. Liga", country: "Germany" },
  { team: "SV Waldhof", league: "3. Liga", country: "Germany" },
  { team: "VfB Oldenburg", league: "3. Liga", country: "Germany" },
  { team: "VfL Osnabrück", league: "3. Liga", country: "Germany" },
  { team: "Viktoria Köln", league: "3. Liga", country: "Germany" },
  { team: "Wehen Wiesbaden", league: "3. Liga", country: "Germany" },
  // INDIA
  { team: "ATK Mohun Bagan", league: "Hero ISL", country: "India" },
  { team: "Bengaluru FC", league: "Hero ISL", country: "India" },
  { team: "Chennaiyin FC", league: "Hero ISL", country: "India" },
  { team: "East Bengal", league: "Hero ISL", country: "India" },
  { team: "FC Goa", league: "Hero ISL", country: "India" },
  { team: "Hyderabad FC", league: "Hero ISL", country: "India" },
  { team: "Jamshedpur FC", league: "Hero ISL", country: "India" },
  { team: "Kerala Blasters", league: "Hero ISL", country: "India" },
  { team: "Mumbai City FC", league: "Hero ISL", country: "India" },
  { team: "NorthEast United", league: "Hero ISL", country: "India" },
  { team: "Odisha FC", league: "Hero ISL", country: "India" },
  // ITALY - SERIE A
  { team: "Bergamo Calcio", league: "Serie A", country: "Italy" },
  { team: "Bologna", league: "Serie A", country: "Italy" },
  { team: "Cremonese", league: "Serie A", country: "Italy" },
  { team: "Empoli", league: "Serie A", country: "Italy" },
  { team: "Fiorentina", league: "Serie A", country: "Italy" },
  { team: "Hellas Verona", league: "Serie A", country: "Italy" },
  { team: "Inter", league: "Serie A", country: "Italy" },
  { team: "Juventus", league: "Serie A", country: "Italy" },
  { team: "Latium", league: "Serie A", country: "Italy" },
  { team: "Lecce", league: "Serie A", country: "Italy" },
  { team: "Milan", league: "Serie A", country: "Italy" },
  { team: "Monza", league: "Serie A", country: "Italy" },
  { team: "Napoli FC", league: "Serie A", country: "Italy" },
  { team: "Roma FC", league: "Serie A", country: "Italy" },
  { team: "Salernitana", league: "Serie A", country: "Italy" },
  { team: "Sampdoria", league: "Serie A", country: "Italy" },
  { team: "Sassuolo", league: "Serie A", country: "Italy" },
  { team: "Spezia", league: "Serie A", country: "Italy" },
  { team: "Torino", league: "Serie A", country: "Italy" },
  { team: "Udinese", league: "Serie A", country: "Italy" },
  // ITALY - SERIE B
  { team: "Ascoli", league: "Serie B", country: "Italy" },
  { team: "Bari", league: "Serie B", country: "Italy" },
  { team: "Benevento", league: "Serie B", country: "Italy" },
  { team: "Brescia", league: "Serie B", country: "Italy" },
  { team: "Cagliari", league: "Serie B", country: "Italy" },
  { team: "Cittadella", league: "Serie B", country: "Italy" },
  { team: "Como", league: "Serie B", country: "Italy" },
  { team: "Cosenza", league: "Serie B", country: "Italy" },
  { team: "Frosinone", league: "Serie B", country: "Italy" },
  { team: "Genoa", league: "Serie B", country: "Italy" },
  { team: "Modena", league: "Serie B", country: "Italy" },
  { team: "Palermo", league: "Serie B", country: "Italy" },
  { team: "Parma", league: "Serie B", country: "Italy" },
  { team: "Perugia", league: "Serie B", country: "Italy" },
  { team: "Pisa", league: "Serie B", country: "Italy" },
  { team: "Reggina", league: "Serie B", country: "Italy" },
  { team: "SPAL", league: "Serie B", country: "Italy" },
  { team: "Südtirol", league: "Serie B", country: "Italy" },
  { team: "Ternana", league: "Serie B", country: "Italy" },
  { team: "Venezia", league: "Serie B", country: "Italy" },
  // KOREA REPUBLIC
  { team: "Daegu FC", league: "K League 1", country: "South Korea" },
  { team: "FC Seoul", league: "K League 1", country: "South Korea" },
  { team: "Gangwon FC", league: "K League 1", country: "South Korea" },
  { team: "Gimcheon Sangmu", league: "K League 1", country: "South Korea" },
  { team: "Incheon United", league: "K League 1", country: "South Korea" },
  { team: "Jeju United", league: "K League 1", country: "South Korea" },
  { team: "Jeonbuk Hyundai", league: "K League 1", country: "South Korea" },
  { team: "Pohang Steelers", league: "K League 1", country: "South Korea" },
  { team: "Seongnam FC", league: "K League 1", country: "South Korea" },
  { team: "Suwon FC", league: "K League 1", country: "South Korea" },
  { team: "Suwon Samsung", league: "K League 1", country: "South Korea" },
  { team: "Ulsan Hyundai", league: "K League 1", country: "South Korea" },
  // MEN'S NATIONAL TEAMS
  { team: "Argentina", league: "Men's National Teams", country: "Argentina" },
  { team: "Australia", league: "Men's National Teams", country: "Australia" },
  { team: "Austria", league: "Men's National Teams", country: "Austria" },
  { team: "Belgium", league: "Men's National Teams", country: "Belgium" },
  { team: "Brazil", league: "Men's National Teams", country: "Brazil" },
  { team: "Canada", league: "Men's National Teams", country: "Canada" },
  { team: "China PR", league: "Men's National Teams", country: "China" },
  { team: "Croatia", league: "Men's National Teams", country: "Croatia" },
  { team: "Czech Republic", league: "Men's National Teams", country: "Czech Republic" },
  { team: "Denmark", league: "Men's National Teams", country: "Denmark" },
  { team: "England", league: "Men's National Teams", country: "England" },
  { team: "Finland", league: "Men's National Teams", country: "Finland" },
  { team: "France", league: "Men's National Teams", country: "France" },
  { team: "Germany", league: "Men's National Teams", country: "Germany" },
  { team: "Ghana", league: "Men's National Teams", country: "Ghana" },
  { team: "Hungary", league: "Men's National Teams", country: "Hungary" },
  { team: "Iceland", league: "Men's National Teams", country: "Iceland" },
  { team: "Ireland", league: "Men's National Teams", country: "Ireland" },
  { team: "Italy", league: "Men's National Teams", country: "Italy" },
  { team: "Mexico", league: "Men's National Teams", country: "Mexico" },
  { team: "Morocco", league: "Men's National Teams", country: "Morocco" },
  { team: "Netherlands", league: "Men's National Teams", country: "Netherlands" },
  { team: "New Zealand", league: "Men's National Teams", country: "New Zealand" },
  { team: "Northern Ireland", league: "Men's National Teams", country: "Northern Ireland" },
  { team: "Norway", league: "Men's National Teams", country: "Norway" },
  { team: "Poland", league: "Men's National Teams", country: "Poland" },
  { team: "Portugal", league: "Men's National Teams", country: "Portugal" },
  { team: "Qatar", league: "Men's National Teams", country: "Qatar" },
  { team: "Romania", league: "Men's National Teams", country: "Romania" },
  { team: "Scotland", league: "Men's National Teams", country: "Scotland" },
  { team: "Spain", league: "Men's National Teams", country: "Spain" },
  { team: "Sweden", league: "Men's National Teams", country: "Sweden" },
  { team: "Ukraine", league: "Men's National Teams", country: "Ukraine" },
  { team: "United States", league: "Men's National Teams", country: "United States" },
  { team: "Wales", league: "Men's National Teams", country: "Wales" },
  // NETHERLANDS
  { team: "Ajax", league: "Eredivisie", country: "Netherlands" },
  { team: "AZ", league: "Eredivisie", country: "Netherlands" },
  { team: "Excelsior", league: "Eredivisie", country: "Netherlands" },
  { team: "FC Emmen", league: "Eredivisie", country: "Netherlands" },
  { team: "FC Groningen", league: "Eredivisie", country: "Netherlands" },
  { team: "FC Twente", league: "Eredivisie", country: "Netherlands" },
  { team: "FC Utrecht", league: "Eredivisie", country: "Netherlands" },
  { team: "FC Volendam", league: "Eredivisie", country: "Netherlands" },
  { team: "Feyenoord", league: "Eredivisie", country: "Netherlands" },
  { team: "Fortuna Sittard", league: "Eredivisie", country: "Netherlands" },
  { team: "Go Ahead Eagles", league: "Eredivisie", country: "Netherlands" },
  { team: "N.E.C. Nijmegen", league: "Eredivisie", country: "Netherlands" },
  { team: "PSV", league: "Eredivisie", country: "Netherlands" },
  { team: "RKC Waalwijk", league: "Eredivisie", country: "Netherlands" },
  { team: "SC Cambuur", league: "Eredivisie", country: "Netherlands" },
  { team: "sc Heerenveen", league: "Eredivisie", country: "Netherlands" },
  { team: "Sparta Rotterdam", league: "Eredivisie", country: "Netherlands" },
  { team: "Vitesse", league: "Eredivisie", country: "Netherlands" },
  // NORWAY
  { team: "Aalesunds FK", league: "Eliteserien", country: "Norway" },
  { team: "FK Bodø/Glimt", league: "Eliteserien", country: "Norway" },
  { team: "FK Haugesund", league: "Eliteserien", country: "Norway" },
  { team: "FK Jerv", league: "Eliteserien", country: "Norway" },
  { team: "HamKam Fotball", league: "Eliteserien", country: "Norway" },
  { team: "Kristiansund BK", league: "Eliteserien", country: "Norway" },
  { team: "Lillestrøm SK", league: "Eliteserien", country: "Norway" },
  { team: "Molde FK", league: "Eliteserien", country: "Norway" },
  { team: "Odds BK", league: "Eliteserien", country: "Norway" },
  { team: "Rosenborg BK", league: "Eliteserien", country: "Norway" },
  { team: "Sandefjord", league: "Eliteserien", country: "Norway" },
  { team: "Sarpsborg 08", league: "Eliteserien", country: "Norway" },
  { team: "Strømsgodset IF", league: "Eliteserien", country: "Norway" },
  { team: "Tromsø IL", league: "Eliteserien", country: "Norway" },
  { team: "Vålerenga Fotball", league: "Eliteserien", country: "Norway" },
  { team: "Viking FK", league: "Eliteserien", country: "Norway" },
  // POLAND
  { team: "Cracovia", league: "PKO Ekstraklasa", country: "Poland" },
  { team: "Górnik Zabrze", league: "PKO Ekstraklasa", country: "Poland" },
  { team: "Jagiellonia", league: "PKO Ekstraklasa", country: "Poland" },
  { team: "Korona Kielce", league: "PKO Ekstraklasa", country: "Poland" },
  { team: "Lech Poznań", league: "PKO Ekstraklasa", country: "Poland" },
  { team: "Lechia Gdańsk", league: "PKO Ekstraklasa", country: "Poland" },
  { team: "Legia Warszawa", league: "PKO Ekstraklasa", country: "Poland" },
  { team: "Miedź Legnica", league: "PKO Ekstraklasa", country: "Poland" },
  { team: "Piast Gliwice", league: "PKO Ekstraklasa", country: "Poland" },
  { team: "Pogoń Szczecin", league: "PKO Ekstraklasa", country: "Poland" },
  { team: "Radomiak Radom", league: "PKO Ekstraklasa", country: "Poland" },
  { team: "Raków", league: "PKO Ekstraklasa", country: "Poland" },
  { team: "Śląsk Wrocław", league: "PKO Ekstraklasa", country: "Poland" },
  { team: "Stal Mielec", league: "PKO Ekstraklasa", country: "Poland" },
  { team: "Warta Poznań", league: "PKO Ekstraklasa", country: "Poland" },
  { team: "Widzew Łódź", league: "PKO Ekstraklasa", country: "Poland" },
  { team: "Wisła Płock", league: "PKO Ekstraklasa", country: "Poland" },
  { team: "Zagłębie Lubin", league: "PKO Ekstraklasa", country: "Poland" },
  // PORTUGAL
  { team: "Arouca", league: "Liga Portugal", country: "Portugal" },
  { team: "Boavista FC", league: "Liga Portugal", country: "Portugal" },
  { team: "Casa Pia AC", league: "Liga Portugal", country: "Portugal" },
  { team: "Estoril Praia", league: "Liga Portugal", country: "Portugal" },
  { team: "FC Famalicão", league: "Liga Portugal", country: "Portugal" },
  { team: "FC Porto", league: "Liga Portugal", country: "Portugal" },
  { team: "FC Vizela", league: "Liga Portugal", country: "Portugal" },
  { team: "GD Chaves", league: "Liga Portugal", country: "Portugal" },
  { team: "Gil Vicente", league: "Liga Portugal", country: "Portugal" },
  { team: "Marítimo", league: "Liga Portugal", country: "Portugal" },
  { team: "Paços Ferreira", league: "Liga Portugal", country: "Portugal" },
  { team: "Portimonense SC", league: "Liga Portugal", country: "Portugal" },
  { team: "Rio Ave FC", league: "Liga Portugal", country: "Portugal" },
  { team: "Santa Clara", league: "Liga Portugal", country: "Portugal" },
  { team: "SC Braga", league: "Liga Portugal", country: "Portugal" },
  { team: "SL Benfica", league: "Liga Portugal", country: "Portugal" },
  { team: "Sporting CP", league: "Liga Portugal", country: "Portugal" },
  { team: "Vitória SC", league: "Liga Portugal", country: "Portugal" },
  // REPUBLIC OF IRELAND
  { team: "Bohemian FC", league: "SSE Airtricity Premier Division", country: "Ireland" },
  { team: "Derry City", league: "SSE Airtricity Premier Division", country: "Ireland" },
  { team: "Drogheda United", league: "SSE Airtricity Premier Division", country: "Ireland" },
  { team: "Dundalk", league: "SSE Airtricity Premier Division", country: "Ireland" },
  { team: "Finn Harps", league: "SSE Airtricity Premier Division", country: "Ireland" },
  { team: "Shamrock Rovers", league: "SSE Airtricity Premier Division", country: "Ireland" },
  { team: "Shelbourne", league: "SSE Airtricity Premier Division", country: "Ireland" },
  { team: "Sligo Rovers", league: "SSE Airtricity Premier Division", country: "Ireland" },
  { team: "St. Pats", league: "SSE Airtricity Premier Division", country: "Ireland" },
  { team: "UCD AFC", league: "SSE Airtricity Premier Division", country: "Ireland" },
  // REST OF WORLD
  { team: "adidas All-Star", league: "Rest of World", country: "International" },
  { team: "AEK Athens", league: "Rest of World", country: "Greece" },
  { team: "Al Ain FC", league: "Rest of World", country: "UAE" },
  { team: "Apoel FC", league: "Rest of World", country: "Cyprus" },
  { team: "Atl. Nacional", league: "Rest of World", country: "Colombia" },
  { team: "Dinamo Zagreb", league: "Rest of World", country: "Croatia" },
  { team: "Dynamo Kyiv", league: "Rest of World", country: "Ukraine" },
  { team: "Ferencvárosi TC", league: "Rest of World", country: "Hungary" },
  { team: "Hajduk Split", league: "Rest of World", country: "Croatia" },
  { team: "HJK Helsinki", league: "Rest of World", country: "Finland" },
  { team: "Kaizer Chiefs", league: "Rest of World", country: "South Africa" },
  { team: "Mamelodi Sundowns", league: "Rest of World", country: "South Africa" },
  { team: "MLS All Stars", league: "Rest of World", country: "USA" },
  { team: "Orlando Pirates", league: "Rest of World", country: "South Africa" },
  { team: "Panathinaikos", league: "Rest of World", country: "Greece" },
  { team: "PAOK FC", league: "Rest of World", country: "Greece" },
  { team: "Shakhtar Donetsk", league: "Rest of World", country: "Ukraine" },
  { team: "Slavia Praha", league: "Rest of World", country: "Czech Republic" },
  { team: "Soccer Aid", league: "Rest of World", country: "International" },
  { team: "Sparta Praha", league: "Rest of World", country: "Czech Republic" },
  { team: "Viktoria Plzeň", league: "Rest of World", country: "Czech Republic" },
  { team: "Wrexham AFC", league: "Rest of World", country: "Wales" },
  // ROMANIA
  { team: "AFC Chindia", league: "Superliga", country: "Romania" },
  { team: "CFR 1907 Cluj", league: "Superliga", country: "Romania" },
  { team: "CS Mioveni", league: "Superliga", country: "Romania" },
  { team: "Farul Constanța", league: "Superliga", country: "Romania" },
  { team: "FC Argeș", league: "Superliga", country: "Romania" },
  { team: "FC Botoșani", league: "Superliga", country: "Romania" },
  { team: "FC Hermannstadt", league: "Superliga", country: "Romania" },
  { team: "FC Petrolul", league: "Superliga", country: "Romania" },
  { team: "FC Rapid 1923", league: "Superliga", country: "Romania" },
  { team: "FC Univ. Cluj", league: "Superliga", country: "Romania" },
  { team: "FC Voluntari", league: "Superliga", country: "Romania" },
  { team: "FCSB", league: "Superliga", country: "Romania" },
  { team: "FCU 1948", league: "Superliga", country: "Romania" },
  { team: "Sepsi OSK", league: "Superliga", country: "Romania" },
  { team: "Univ. Craiova", league: "Superliga", country: "Romania" },
  { team: "UTA Arad", league: "Superliga", country: "Romania" },
  // SAUDI ARABIA
  { team: "Abha Club", league: "MBS Pro League", country: "Saudi Arabia" },
  { team: "Al Adalah", league: "MBS Pro League", country: "Saudi Arabia" },
  { team: "Al Batin", league: "MBS Pro League", country: "Saudi Arabia" },
  { team: "Al Fateh", league: "MBS Pro League", country: "Saudi Arabia" },
  { team: "Al Fayha", league: "MBS Pro League", country: "Saudi Arabia" },
  { team: "Al Hilal", league: "MBS Pro League", country: "Saudi Arabia" },
  { team: "Al Ittihad", league: "MBS Pro League", country: "Saudi Arabia" },
  { team: "Al Khaleej", league: "MBS Pro League", country: "Saudi Arabia" },
  { team: "Al Nassr", league: "MBS Pro League", country: "Saudi Arabia" },
  { team: "Al Raed", league: "MBS Pro League", country: "Saudi Arabia" },
  { team: "Al Shabab", league: "MBS Pro League", country: "Saudi Arabia" },
  { team: "Al Taawoun", league: "MBS Pro League", country: "Saudi Arabia" },
  { team: "Al Tai", league: "MBS Pro League", country: "Saudi Arabia" },
  { team: "Al Wehda", league: "MBS Pro League", country: "Saudi Arabia" },
  { team: "Damac FC", league: "MBS Pro League", country: "Saudi Arabia" },
  { team: "Ettifaq FC", league: "MBS Pro League", country: "Saudi Arabia" },
  // SCOTLAND
  { team: "Aberdeen", league: "Cinch Premiership", country: "Scotland" },
  { team: "Celtic", league: "Cinch Premiership", country: "Scotland" },
  { team: "Dundee United", league: "Cinch Premiership", country: "Scotland" },
  { team: "Hearts", league: "Cinch Premiership", country: "Scotland" },
  { team: "Hibernian", league: "Cinch Premiership", country: "Scotland" },
  { team: "Kilmarnock", league: "Cinch Premiership", country: "Scotland" },
  { team: "Livingston", league: "Cinch Premiership", country: "Scotland" },
  { team: "Motherwell", league: "Cinch Premiership", country: "Scotland" },
  { team: "Rangers", league: "Cinch Premiership", country: "Scotland" },
  { team: "Ross County", league: "Cinch Premiership", country: "Scotland" },
  { team: "St. Johnstone", league: "Cinch Premiership", country: "Scotland" },
  { team: "St. Mirren", league: "Cinch Premiership", country: "Scotland" },
  // SPAIN - LALIGA
  { team: "Athletic Club", league: "LaLiga", country: "Spain" },
  { team: "Atlético de Madrid", league: "LaLiga", country: "Spain" },
  { team: "CA Osasuna", league: "LaLiga", country: "Spain" },
  { team: "Cádiz CF", league: "LaLiga", country: "Spain" },
  { team: "Elche CF", league: "LaLiga", country: "Spain" },
  { team: "FC Barcelona", league: "LaLiga", country: "Spain" },
  { team: "Getafe CF", league: "LaLiga", country: "Spain" },
  { team: "Girona FC", league: "LaLiga", country: "Spain" },
  { team: "R. Valladolid CF", league: "LaLiga", country: "Spain" },
  { team: "Rayo Vallecano", league: "LaLiga", country: "Spain" },
  { team: "RC Celta", league: "LaLiga", country: "Spain" },
  { team: "RCD Espanyol", league: "LaLiga", country: "Spain" },
  { team: "RCD Mallorca", league: "LaLiga", country: "Spain" },
  { team: "Real Betis", league: "LaLiga", country: "Spain" },
  { team: "Real Madrid", league: "LaLiga", country: "Spain" },
  { team: "Real Sociedad", league: "LaLiga", country: "Spain" },
  { team: "Sevilla FC", league: "LaLiga", country: "Spain" },
  { team: "UD Almería", league: "LaLiga", country: "Spain" },
  { team: "Valencia CF", league: "LaLiga", country: "Spain" },
  { team: "Villarreal CF", league: "LaLiga", country: "Spain" },
  // SPAIN - LALIGA SMARTBANK
  { team: "Albacete BP", league: "LaLiga SmartBank", country: "Spain" },
  { team: "Burgos CF", league: "LaLiga SmartBank", country: "Spain" },
  { team: "CD Leganés", league: "LaLiga SmartBank", country: "Spain" },
  { team: "CD Lugo", league: "LaLiga SmartBank", country: "Spain" },
  { team: "CD Mirandés", league: "LaLiga SmartBank", country: "Spain" },
  { team: "CD Tenerife", league: "LaLiga SmartBank", country: "Spain" },
  { team: "D. Alavés", league: "LaLiga SmartBank", country: "Spain" },
  { team: "FC Andorra", league: "LaLiga SmartBank", country: "Andorra" },
  { team: "FC Cartagena", league: "LaLiga SmartBank", country: "Spain" },
  { team: "Granada CF", league: "LaLiga SmartBank", country: "Spain" },
  { team: "Levante UD", league: "LaLiga SmartBank", country: "Spain" },
  { team: "Málaga CF", league: "LaLiga SmartBank", country: "Spain" },
  { team: "R. Oviedo", league: "LaLiga SmartBank", country: "Spain" },
  { team: "R. Racing Club", league: "LaLiga SmartBank", country: "Spain" },
  { team: "R. Sporting", league: "LaLiga SmartBank", country: "Spain" },
  { team: "Real Zaragoza", league: "LaLiga SmartBank", country: "Spain" },
  { team: "SD Eibar", league: "LaLiga SmartBank", country: "Spain" },
  { team: "SD Huesca", league: "LaLiga SmartBank", country: "Spain" },
  { team: "SD Ponferradina", league: "LaLiga SmartBank", country: "Spain" },
  { team: "UD Ibiza", league: "LaLiga SmartBank", country: "Spain" },
  { team: "UD Las Palmas", league: "LaLiga SmartBank", country: "Spain" },
  { team: "Villarreal CF B", league: "LaLiga SmartBank", country: "Spain" },
  // SWEDEN
  { team: "AIK", league: "Allsvenskan", country: "Sweden" },
  { team: "BK Häcken", league: "Allsvenskan", country: "Sweden" },
  { team: "Degerfors IF", league: "Allsvenskan", country: "Sweden" },
  { team: "Djurgårdens IF", league: "Allsvenskan", country: "Sweden" },
  { team: "GIF Sundsvall", league: "Allsvenskan", country: "Sweden" },
  { team: "Hammarby IF", league: "Allsvenskan", country: "Sweden" },
  { team: "Helsingborgs IF", league: "Allsvenskan", country: "Sweden" },
  { team: "IF Elfsborg", league: "Allsvenskan", country: "Sweden" },
  { team: "IFK Göteborg", league: "Allsvenskan", country: "Sweden" },
  { team: "IFK Norrköping", league: "Allsvenskan", country: "Sweden" },
  { team: "IFK Värnamo", league: "Allsvenskan", country: "Sweden" },
  { team: "IK Sirius", league: "Allsvenskan", country: "Sweden" },
  { team: "Kalmar FF", league: "Allsvenskan", country: "Sweden" },
  { team: "Malmö FF", league: "Allsvenskan", country: "Sweden" },
  { team: "Mjällby AIF", league: "Allsvenskan", country: "Sweden" },
  { team: "Varbergs BoIS", league: "Allsvenskan", country: "Sweden" },
  // SWITZERLAND
  { team: "BSC Young Boys", league: "Credit Suisse Super League", country: "Switzerland" },
  { team: "FC Basel 1893", league: "Credit Suisse Super League", country: "Switzerland" },
  { team: "FC Lugano", league: "Credit Suisse Super League", country: "Switzerland" },
  { team: "FC Luzern", league: "Credit Suisse Super League", country: "Switzerland" },
  { team: "FC Sion", league: "Credit Suisse Super League", country: "Switzerland" },
  { team: "FC St. Gallen", league: "Credit Suisse Super League", country: "Switzerland" },
  { team: "FC Winterthur", league: "Credit Suisse Super League", country: "Switzerland" },
  { team: "FC Zürich", league: "Credit Suisse Super League", country: "Switzerland" },
  { team: "Grasshopper Club", league: "Credit Suisse Super League", country: "Switzerland" },
  { team: "Servette FC", league: "Credit Suisse Super League", country: "Switzerland" },
  // TURKEY
  { team: "Adana Demirspor", league: "Süper Lig", country: "Turkey" },
  { team: "Alanyaspor", league: "Süper Lig", country: "Turkey" },
  { team: "Antalyaspor", league: "Süper Lig", country: "Turkey" },
  { team: "Başakşehir", league: "Süper Lig", country: "Turkey" },
  { team: "Beşiktaş", league: "Süper Lig", country: "Turkey" },
  { team: "Fenerbahçe", league: "Süper Lig", country: "Turkey" },
  { team: "Galatasaray", league: "Süper Lig", country: "Turkey" },
  { team: "Gaziantep", league: "Süper Lig", country: "Turkey" },
  { team: "Giresunspor", league: "Süper Lig", country: "Turkey" },
  { team: "Hatayspor", league: "Süper Lig", country: "Turkey" },
  { team: "İstanbulspor", league: "Süper Lig", country: "Turkey" },
  { team: "Karagümrük SK", league: "Süper Lig", country: "Turkey" },
  { team: "Kasımpaşa", league: "Süper Lig", country: "Turkey" },
  { team: "Kayserispor", league: "Süper Lig", country: "Turkey" },
  { team: "Konyaspor", league: "Süper Lig", country: "Turkey" },
  { team: "MKE Ankaragücü", league: "Süper Lig", country: "Turkey" },
  { team: "Sivasspor", league: "Süper Lig", country: "Turkey" },
  { team: "Trabzonspor", league: "Süper Lig", country: "Turkey" },
  { team: "Ümraniyespor", league: "Süper Lig", country: "Turkey" },
  // USA/CANADA - MLS
  { team: "Atlanta United", league: "MLS", country: "USA" },
  { team: "Austin FC", league: "MLS", country: "USA" },
  { team: "CF Montréal", league: "MLS", country: "Canada" },
  { team: "Charlotte FC", league: "MLS", country: "USA" },
  { team: "Chicago Fire FC", league: "MLS", country: "USA" },
  { team: "Colorado Rapids", league: "MLS", country: "USA" },
  { team: "Columbus Crew", league: "MLS", country: "USA" },
  { team: "D.C. United", league: "MLS", country: "USA" },
  { team: "FC Cincinnati", league: "MLS", country: "USA" },
  { team: "FC Dallas", league: "MLS", country: "USA" },
  { team: "Houston Dynamo", league: "MLS", country: "USA" },
  { team: "Inter Miami CF", league: "MLS", country: "USA" },
  { team: "LA Galaxy", league: "MLS", country: "USA" },
  { team: "LAFC", league: "MLS", country: "USA" },
  { team: "Minnesota United", league: "MLS", country: "USA" },
  { team: "Nashville SC", league: "MLS", country: "USA" },
  { team: "New England", league: "MLS", country: "USA" },
  { team: "New York City FC", league: "MLS", country: "USA" },
  { team: "Orlando City", league: "MLS", country: "USA" },
  { team: "Philadelphia", league: "MLS", country: "USA" },
  { team: "Portland Timbers", league: "MLS", country: "USA" },
  { team: "Real Salt Lake", league: "MLS", country: "USA" },
  { team: "Red Bulls", league: "MLS", country: "USA" },
  { team: "SJ Earthquakes", league: "MLS", country: "USA" },
  { team: "Sounders FC", league: "MLS", country: "USA" },
  { team: "Sporting KC", league: "MLS", country: "USA" },
  { team: "Toronto FC", league: "MLS", country: "Canada" },
  { team: "Whitecaps FC", league: "MLS", country: "Canada" }
];

    let gameState = {
      availableTeams: [],
      totalPicks: 0,
      players: []
    };

    const playerCountInput = document.getElementById('playerCount');
    const createPlayersBtn = document.getElementById('createPlayersBtn');
    const playersContainer = document.getElementById('playersContainer');
    const pickTeamBtn = document.getElementById('pickTeamBtn');
    const resetBtn = document.getElementById('resetBtn');
    const downloadBtn = document.getElementById('downloadBtn');
    const statusDiv = document.getElementById('status');
    const statsList = document.getElementById('statsList');
    const themeToggle = document.getElementById('themeToggle');

    function initTheme() {
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
        document.body.classList.add('dark-mode');
        updateThemeIcon(true);
      } else {
        document.body.classList.remove('dark-mode');
        updateThemeIcon(false);
      }
    }

    function toggleTheme() {
      document.body.classList.toggle('dark-mode');
      const isDark = document.body.classList.contains('dark-mode');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
      updateThemeIcon(isDark);
    }

    function updateThemeIcon(isDark) {
  const path = isDark ?
    "M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z" :
    "M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.98 10.503 10.503 0 01-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 01.818.162z";
  
  document.getElementById('themeIconPath').setAttribute('d', path);
}

    function saveGameState() {
      localStorage.setItem('fifaTeamPickerState', JSON.stringify(gameState));
    }

    function resetData() {
      gameState = {
        availableTeams: [...allTeams],
        totalPicks: 0,
        players: []
      };
      playersContainer.innerHTML = '';
      playerCountInput.value = 2;
      pickTeamBtn.disabled = true;
      createPlayersBtn.disabled = false;
      if (statusDiv) statusDiv.textContent = 'تیم‌های باقی‌مانده: ' + allTeams.length;
      updateStats();
      saveGameState();
    }

    function updateStats() {
      const totalTeams = allTeams.length;
      const pickedTeams = totalTeams - gameState.availableTeams.length;
      let statsHtml = `<li>تعداد کل تیم‌ها: ${totalTeams}</li>`;
      statsHtml += `<li>تعداد تیم‌های انتخاب‌شده: ${pickedTeams}</li>`;
      statsHtml += `<li>توزیع تیم‌ها:</li><ul style="margin-right: 20px;">`;
      gameState.players.forEach((player, i) => {
        const name = player.name || `بازیکن ${i + 1}`;
        statsHtml += `<li>${name}: ${player.teams.length} تیم</li>`;
      });
      statsHtml += `</ul>`;
      statsList.innerHTML = statsHtml;
    }

    function rebuildUI() {
      playersContainer.innerHTML = '';
      const playerCount = gameState.players.length;

      for (let i = 0; i < playerCount; i++) {
        const player = gameState.players[i];
        let teamsHtml = '—';
        if (player.teams.length > 0) {
          teamsHtml = '<ol style="text-align: right; margin: 8px 0; padding-right: 20px;">';
          player.teams.forEach(t => {
            let country = "International";
            const match = t.match(/\- ([^)]+)$/);
            if (match) {
              country = match[1].trim();
            }
            const countryCode = countryToFlag[country] || "UN";
            const flagUrl = `https://flagcdn.com/w40/${countryCode.toLowerCase()}.png`;
            teamsHtml += `
              <li class="team-item">
                <img class="team-flag" src="${flagUrl}" alt="پرچم ${country}" onerror="this.style.display='none'">
                <div class="team-text">${t}</div>
              </li>
            `;
          });
          teamsHtml += '</ol>';
        }

        const playerEl = document.createElement('div');
        playerEl.className = 'player-section';
        playerEl.innerHTML = `
          <h3>بازیکن ${i + 1}</h3>
          <input type="text" class="player-name" value="${player.name}" data-index="${i}" placeholder="اسم بازیکن رو بزن" />
          <div class="team-display">${teamsHtml}</div>
        `;
        playersContainer.appendChild(playerEl);
      }

      document.querySelectorAll('.player-name').forEach(input => {
        input.addEventListener('input', function() {
          const index = parseInt(this.getAttribute('data-index'));
          if (gameState.players[index]) {
            gameState.players[index].name = this.value;
            saveGameState();
            updateStats();
          }
        });
      });

      playerCountInput.value = playerCount;
      createPlayersBtn.disabled = playerCount > 0;
      pickTeamBtn.disabled = playerCount === 0;
      if (statusDiv) statusDiv.textContent = 'تیم‌های باقی‌مانده: ' + gameState.availableTeams.length;
      updateStats();
    }

    function loadGameState() {
      const saved = localStorage.getItem('fifaTeamPickerState');
      if (saved) {
        gameState = JSON.parse(saved);
        rebuildUI();
      } else {
        resetData();
      }
    }

    createPlayersBtn.addEventListener('click', function() {
      const count = parseInt(playerCountInput.value);
      if (isNaN(count) || count < 1 || count > 32) {
        alert('لطفاً عددی بین 1 تا 32 وارد کنید.');
        return;
      }
      gameState.players = [];
      for (let i = 0; i < count; i++) {
        gameState.players.push({ name: '', teams: [] });
      }
      gameState.availableTeams = [...allTeams];
      gameState.totalPicks = 0;
      saveGameState();
      rebuildUI();
    });

    pickTeamBtn.addEventListener('click', function() {
      if (gameState.availableTeams.length === 0) {
        alert('دیگر تیمی برای انتخاب وجود ندارد!');
        return;
      }
      if (gameState.players.length === 0) {
        alert('ابتدا تعداد بازیکن را مشخص کنید!');
        return;
      }

      const currentPlayerIndex = gameState.totalPicks % gameState.players.length;
      const randomIndex = Math.floor(Math.random() * gameState.availableTeams.length);
      const selectedTeam = gameState.availableTeams[randomIndex];
      const teamStr = `${selectedTeam.team} (${selectedTeam.league} - ${selectedTeam.country})`;

      gameState.players[currentPlayerIndex].teams.push(teamStr);
      gameState.availableTeams.splice(randomIndex, 1);
      gameState.totalPicks++;

      saveGameState();
      rebuildUI();

      const playerSections = document.querySelectorAll('.player-section');
      if (playerSections[currentPlayerIndex]) {
        playerSections[currentPlayerIndex].classList.remove('animate-deal');
        void playerSections[currentPlayerIndex].offsetWidth; // ریفرش
        playerSections[currentPlayerIndex].classList.add('animate-deal');
      }
    });

    resetBtn.addEventListener('click', function() {
      if (confirm('آیا مطمئن هستید که می‌خواهید همه چیز را ریست کنید؟')) {
        resetData();
        rebuildUI();
      }
    });

    downloadBtn.addEventListener('click', function() {
      let content = "نتیجه انتخاب تیم‌های FIFA\n";
      content += "========================\n\n";
      gameState.players.forEach((player, i) => {
        const name = player.name || `بازیکن ${i + 1}`;
        content += `${name}:\n`;
        if (player.teams.length === 0) {
          content += "  هیچ تیمی انتخاب نشده است.\n";
        } else {
          player.teams.forEach((team, j) => {
            content += `  ${j + 1}. ${team}\n`;
          });
        }
        content += "\n";
      });
      content += `\nتاریخ: ${new Date().toLocaleString('fa-IR')}`;

      const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'fifa-team-picker-result.txt';
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    });

    themeToggle.addEventListener('click', toggleTheme);

    initTheme();
    loadGameState();
  </script>
</body>
</html>
